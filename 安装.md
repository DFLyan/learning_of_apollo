# 一 docker
## 1.1 安装
```
sudo apt install curl
curl https://get.docker.com | sh
sudo systemctl start docker && sudo systemctl enable docker
```

## 1.2 测试
```
sudo docker run hello-world
```

## 1.3 优化（添加docker权限给当前用户）
### 1.3.1 创建用户组
```
sudo groupadd docker
```
### 1.3.2 添加当前用户
```
sudo usermod -aG docker $USER
```
### 1.3.3 重启虚拟机或者执行以下命令使之生效
```
newgrp docker
```
### 1.3.4 测试是否可以免sudo运行
```
docker run hello-world
```
### 1.3.5配置docker开机自启动
```
sudo systemctl enable docker.service
sudo systemctl enablecontainerd.service
```

## 1.4 安装nvidia container toolkit
```
distribution=$(. /etc/os-release;echo $ID$VERSION_ID)
curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -
curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list
sudo apt-get -y update
sudo apt-get install -y nvidia-docker2
sudo systemctl restart docker
```
